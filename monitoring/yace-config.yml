apiVersion: v1alpha1

# AWS S3 Metrics
discovery:
  jobs:
    - type: AWS/S3
      regions:
        - us-east-1
      period: 300
      length: 300
      metrics:
        - name: BucketSizeBytes
          statistics: [Average]
        - name: NumberOfObjects
          statistics: [Average]

    - type: AWS/S3
      regions:
        - us-east-1
      period: 60
      length: 300
      metrics:
        - name: AllRequests
          statistics: [Sum]
        - name: GetRequests
          statistics: [Sum]
        - name: PutRequests
          statistics: [Sum]
        - name: BytesDownloaded
          statistics: [Sum]
        - name: BytesUploaded
          statistics: [Sum]
        - name: 4xxErrors
          statistics: [Sum]
        - name: 5xxErrors
          statistics: [Sum]

    # EC2 Metrics (if using EC2)
    - type: AWS/EC2
      regions:
        - us-east-1
      period: 300
      length: 300
      metrics:
        - name: CPUUtilization
          statistics: [Average]
        - name: NetworkIn
          statistics: [Sum]
        - name: NetworkOut
          statistics: [Sum]

    # Lambda Metrics (if using Lambda)
    - type: AWS/Lambda
      regions:
        - us-east-1
      period: 60
      length: 300
      metrics:
        - name: Invocations
          statistics: [Sum]
        - name: Duration
          statistics: [Average]
        - name: Errors
          statistics: [Sum]
        - name: Throttles
          statistics: [Sum]
